// Generated by CoffeeScript 1.6.3
(function() {
  var CurrentHubLoader, CurrentUser, Hub, UserOmniauthResource, UserRegistrationResource;

  CurrentUser = function($resource) {
    return $resource('/currentuser');
  };

  Hub = function($resource) {
    return $resource('/hubs/:id', {
      id: '@id'
    }, {
      update: {
        method: 'PUT'
      }
    });
  };

  UserOmniauthResource = function($http) {
    var UserOmniauth;
    UserOmniauth = function(options) {
      return angular.extend(this, options);
    };
    UserOmniauth.prototype.$save = function() {
      return $http.post('/authentications', {
        auth: this.auth
      });
    };
    UserOmniauth.prototype.$destroy = function() {
      return $http["delete"]("/users/logout");
    };
    return UserOmniauth;
  };

  UserRegistrationResource = function($http) {
    var UserRegistration;
    UserRegistration = function(options) {
      return angular.extend(this, options);
    };
    UserRegistration.prototype.$save = function() {
      return $http.post("/users", {
        user: {
          name: this.name,
          email: this.email,
          password: this.password,
          password_confirmation: this.password_confirmation
        }
      });
    };
    return UserRegistration;
  };

  CurrentHubLoader = function(Hub, $route, $q) {
    return function() {
      var delay;
      delay = $q.defer();
      if ($route.current.params.hub) {
        Hub.get({
          id: $route.current.params.hub
        }, function(hub) {
          return delay.resolve(hub);
        }, function() {
          return delay.reject('Unable to locate a hub ');
        });
      } else {
        delay.resolve(false);
      }
      return delay.promise;
    };
  };

  Hub.$inject = ['$resource'];

  UserOmniauthResource.$inject = ['$http'];

  UserRegistrationResource.$inject = ['$http'];

  CurrentHubLoader.$inject = ['Hub', '$route', '$q'];

  App.Services.factory('Hub', Hub);

  App.Services.factory('CurrentHubLoader', CurrentHubLoader);

  App.Services.factory('UserOmniauthResource', UserOmniauthResource);

  App.Services.factory('UserRegistrationResource', UserRegistrationResource);

}).call(this);
